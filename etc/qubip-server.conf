# TLS server certificate request

[ default ]
ca                      = qubip-tls-ca                # CA name
root_ca                 = qubip-root-ca
base_url                = http://pki.all.qubip.eu   # CA base URL
root_ca_base_url        = $base_url/$root_ca
ca_base_url        = $base_url/$ca
dir                     = ./certs                     # Top dir
aia_url                 = $ca_base_url/$ca.cer     # CA certificate URL

[ req ]
utf8                    = yes                   # Input is UTF-8
string_mask             = utf8only              # Emit UTF-8 strings
prompt                  = yes                   # Prompt for DN
distinguished_name      = server_dn             # DN template
req_extensions          = server_reqext         # Desired extensions

[ server_dn ]
countryName             = "EU"
organizationName        = "QUBIP"
commonName              = "6. Common Name              (eg, FQDN)     "
commonName_max          = 64

[ fqdn_ext ]
keyUsage                = critical,digitalSignature,keyEncipherment, keyAgreement
extendedKeyUsage        = serverAuth
subjectAltName          = critical,DNS:${ENV::SAN}
subjectKeyIdentifier    = hash
certificatePolicies     = @cert_policies

[ ip_ext ]
keyUsage                = critical,digitalSignature,keyEncipherment, keyAgreement
extendedKeyUsage        = serverAuth
subjectAltName          = critical,IP:${ENV::SAN}
subjectKeyIdentifier    = hash
certificatePolicies     = @cert_policies


[ cert_policies ]
policyIdentifier        = 2.23.140.1.2.1 # DV policy
 